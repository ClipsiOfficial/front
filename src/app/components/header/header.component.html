<header class="border-b border-border bg-card sticky top-0 z-50">
  <div class="container mx-auto px-4">
    <div class="h-16 flex items-center justify-between">
      <!-- Logo -->
      <div class="flex items-center">
        <img src="/clipsi-logo.png" alt="Clipsi" class="h-7 md:h-8" />
      </div>

      <!-- Desktop Navigation (hidden on mobile) -->
      <nav class="hidden md:flex flex-1 justify-center">
        <div
          class="inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground max-w-2xl">
          <a routerLink="/results" routerLinkActive="bg-background text-foreground shadow"
            [routerLinkActiveOptions]="{ exact: false }"
            class="inline-flex items-center justify-center whitespace-nowrap rounded-md px-4 py-1.5 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:bg-background/50">
            Resultados
          </a>
          <a routerLink="/my-news" routerLinkActive="bg-background text-foreground shadow"
            [routerLinkActiveOptions]="{ exact: false }"
            class="inline-flex items-center justify-center whitespace-nowrap rounded-md px-4 py-1.5 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:bg-background/50">
            Mis Noticias
          </a>
          <a routerLink="/statistics" routerLinkActive="bg-background text-foreground shadow"
            [routerLinkActiveOptions]="{ exact: false }"
            class="inline-flex items-center justify-center whitespace-nowrap rounded-md px-4 py-1.5 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 hover:bg-background/50">
            Estadísticas
          </a>
        </div>
      </nav>

      <!-- Desktop Actions (hidden on mobile) -->
      <div class="hidden md:flex items-center gap-3">
        <!-- Theme Toggle -->
        <button
          mat-icon-button
          (click)="toggleTheme()"
          [matTooltip]="currentTheme() === 'system' ? 'Usar tema del sistema' : actualTheme() === 'dark' ? 'Cambiar a modo claro' : 'Cambiar a modo oscuro'">
          @if (currentTheme() === 'system') {
            <mat-icon>monitor</mat-icon>
          } @else if (actualTheme() === 'dark') {
            <mat-icon>dark_mode</mat-icon>
          } @else {
            <mat-icon>light_mode</mat-icon>
          }
        </button>

        <!-- User Button -->
        <button
          mat-icon-button
          matTooltip="Perfil de usuario"
          class="!bg-primary !text-primary-foreground">
          <mat-icon>account_circle</mat-icon>
        </button>
      </div>

      <!-- Mobile Actions -->
      <div class="flex md:hidden items-center gap-2">
        <!-- Theme Toggle Mobile -->
        <button
          mat-icon-button
          (click)="toggleTheme()"
          [matTooltip]="currentTheme() === 'system' ? 'Usar tema del sistema' : actualTheme() === 'dark' ? 'Cambiar a modo claro' : 'Cambiar a modo oscuro'">
          @if (currentTheme() === 'system') {
            <mat-icon>monitor</mat-icon>
          } @else if (actualTheme() === 'dark') {
            <mat-icon>dark_mode</mat-icon>
          } @else {
            <mat-icon>light_mode</mat-icon>
          }
        </button>

        <!-- Hamburger Menu Button -->
        <button
          mat-icon-button
          (click)="toggleMobileMenu()"
          [attr.aria-label]="mobileMenuOpen() ? 'Cerrar menú' : 'Abrir menú'">
          @if (!mobileMenuOpen()) {
            <mat-icon>menu</mat-icon>
          } @else {
            <mat-icon>close</mat-icon>
          }
        </button>
      </div>
    </div>

    <!-- Mobile Menu (shown when mobileMenuOpen is true) -->
    @if (mobileMenuOpen()) {
    <nav class="md:hidden pb-4 border-t border-border mt-0 pt-4">
      <div class="space-y-1">
        <a routerLink="/results" routerLinkActive="bg-primary text-primary-foreground"
          [routerLinkActiveOptions]="{ exact: false }" (click)="closeMobileMenu()"
          class="block w-full text-left px-4 py-3 rounded-md text-sm font-medium transition-colors hover:bg-accent">
          Resultados
        </a>
        <a routerLink="/my-news" routerLinkActive="bg-primary text-primary-foreground"
          [routerLinkActiveOptions]="{ exact: false }" (click)="closeMobileMenu()"
          class="block w-full text-left px-4 py-3 rounded-md text-sm font-medium transition-colors hover:bg-accent">
          Mis Noticias
        </a>
        <a routerLink="/statistics" routerLinkActive="bg-primary text-primary-foreground"
          [routerLinkActiveOptions]="{ exact: false }" (click)="closeMobileMenu()"
          class="block w-full text-left px-4 py-3 rounded-md text-sm font-medium transition-colors hover:bg-accent">
          Estadísticas
        </a>
      </div>
    </nav>
    }
  </div>
</header>
